<div class="tbl-content">
  <div class="tbl-body">
    <table cellpadding="0" cellspacing="0" border="0">
      <thead>
        <tr class="tbl-action-area">
          <td [colSpan]="params.list.show.length + 1">
            <form [formGroup]="tableSearchForm">
              <mat-form-field class="search">
                <mat-label>Filtrar</mat-label>
                <input matInput placeholder="Digite filtro" type="text" formControlName="search" (keyup)="searchOverAll()">
              </mat-form-field>
            </form>

            <button mat-raised-button [disabled]="icon.disabled" class="action-button" *ngFor="let icon of params.header.actionIcon ; let i = index;" (click)="onTableDataOutput($event, dataTemp, icon.icon)">
              <div [matTooltip]="icon.tooltip" *ngIf="icon.tooltip">
                <mat-icon>{{icon.icon}}</mat-icon> &nbsp;
                <span>{{icon.description}}</span>
              </div>
              <mat-icon *ngIf="!icon.tooltip">{{icon.icon}}</mat-icon>
            </button>
          </td>
        </tr>
        <tr>
          <th *ngFor="let show of params.list.show; let headerId = index">
            <i class="material-icons tbl-icon" *ngIf="headerId === 0 && params.checkBox">
              <span *ngIf="!allChecked" (click)="checkRow(-1, true)">check_box_outline_blank</span>
              <span *ngIf="allChecked" (click)="checkRow(-1, false)">check_box</span>
            </i>
            {{show['header']}}
            <a *ngIf="show.sort">            
              <i class="material-icons tbl-icon" (click)="sort(show.field)">{{show.sort}}</i>
            </a>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let data of dataSource; let i = index">
          <td *ngFor="let show of params.list.show, let j = index;">
            <i class="material-icons tbl-icon" *ngIf="j === 0 && params.checkBox">
              <span *ngIf="!data['checked']" (click)="checkRow(i, true)">check_box_outline_blank</span>
              <span *ngIf="data['checked']" (click)="checkRow(i, false)">check_box</span>
            </i>
            {{data[show['field']]}}
          </td>

          <td style="min-width: 2%; text-align: right;">
            <a *ngFor="let icon of params.list.actionIcon ; let i = index;">
              <mat-icon [matTooltip]="icon.tooltip" *ngIf="icon.tooltip" (click)="onTableDataOutput($event, data)">
                {{icon.icon}}
              </mat-icon>
    
              <mat-icon *ngIf="!icon.tooltip" (click)="onTableDataOutput($event, data)">
                {{icon.icon}}
              </mat-icon>
            </a>
          </td>
        </tr>

        <tr *ngIf='dataSource.length < 1'>
          <td>
            Nenhum dado encontrado.
          </td>
          <td *ngFor="let show of params.list.show;"><mat-icon></mat-icon></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="tbl-footer">
    <table cellpadding="0" cellspacing="0" border="0">
      <tfoot>
        <tr>
          <td>
            <a>
              <mat-icon *ngIf="currentPage > 1" (click)="setLimitOverPage(currentPage-1)">keyboard_arrow_left</mat-icon>
              <mat-icon *ngIf="currentPage <= 1" class="link-disable">keyboard_arrow_left</mat-icon>
            </a>
          </td>

          <td>
            <a>
              <mat-icon *ngIf="currentPage < lastPage" (click)="setLimitOverPage(currentPage+1)">keyboard_arrow_right</mat-icon>
              <mat-icon *ngIf="currentPage >= lastPage" class="link-disable">keyboard_arrow_right</mat-icon>
            </a>
          </td>

          <td>
            <form [formGroup]="tableFooterForm">
              <mat-form-field>
                <mat-select placeholder="NÂº de linhas" formControlName="numberOfLines" (selectionChange)="setLimit()">
                  <mat-option *ngFor="let n of params.footer.numberOfLines" value="{{n}}">
                  <p> {{ n }}</p> 
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </form>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>